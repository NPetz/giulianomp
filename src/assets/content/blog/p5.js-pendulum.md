---
title: P5.js Pendulum
author: GMP
date: 2021-02-21T00:00:00+09:00
hero_image: "/src/assets/content/images/mike-von-rvm_ts_c7se-unsplash.jpg"

---
<script src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"></script>

# A P5.js Pendulum

## The Pendulum

<script type="text/javascript" defer>

let origin,end, gravity, angle, len, velocity, acceleration,time;

function setup() {

let w = window.innerWdith;

createCanvas(w, 500);

origin = createVector(width/2,0)

gravity = 0.1

angle = 0

len = 100

end = createVector(width/2, len)

velocity = 0.01

acceleration = 0

time=0

background(10,10,10);

}

function draw() {

// background(10,10,30);

time+=0.005

len+= sin(time)

acceleration = (-1 * sin(angle) * gravity) /len

velocity += acceleration

angle += velocity

end.x = sin(angle)*len + origin.x

end.y = cos(angle)*len

stroke(210)

strokeWeight(1)

line(origin.x,origin.y,end.x,end.y)

strokeWeight(0)

fill(200,100,100)

circle(end.x,end.y, 5)

}

</script>

## The Code

    let origin,end, gravity, angle, len, velocity, acceleration,time;
    
    function setup() {
    
      let w = window.innerWdith;
      createCanvas(w, 500);
      
      origin = createVector(width/2,0)
      gravity = 0.1
      angle = 0
      len = 100
      end = createVector(width/2, len)
      velocity = 0.01
      acceleration = 0
      time=0
      background(10,10,10);
    }
    
    function draw() {
      // background(10,10,30);
      time+=0.005
      
      len+= sin(time)
      
      acceleration = (-1 * sin(angle) * gravity) /len
      velocity += acceleration
      angle += velocity
    
      
      end.x = sin(angle)*len + origin.x
      end.y = cos(angle)*len
      
      stroke(210)
      strokeWeight(1)
      line(origin.x,origin.y,end.x,end.y)  
      
      strokeWeight(0)
      fill(200,100,100)
      circle(end.x,end.y, 5)
      
    }